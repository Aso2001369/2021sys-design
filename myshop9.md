```uml
@startuml
ユーザー -> webサーバー: 商品購入

 alt ログイン済み
  webサーバー -> DBサーバー:商品購入
  DBサーバー -> DBサーバー:決済処理
  DBサーバー -> webサーバー:決済完了メッセージを表示
  webサーバー -> ユーザー:決済完了メッセージを表示

 else 未ログイン
  webサーバー -> ユーザー:ログインを促すメッセージを表示

end
@enduml
```
